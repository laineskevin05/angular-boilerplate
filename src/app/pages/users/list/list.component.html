<section class="space-y-6">
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    <div>
      <h1 class="text-3xl font-bold text-neutral-900">Users</h1>
      <p class="text-neutral-500 mt-1">Manage and view all users in your system</p>
    </div>
    <button pButton type="button" icon="pi pi-plus" class="p-button-rounded p-button-success" label="Add User" aria-label="Add User"></button>
  </div>

  @if (!isLoading()) {
    <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead class="bg-neutral-50 border-b border-neutral-200">
            <tr>
              <th class="px-6 py-4 text-left text-sm font-semibold text-neutral-700">Avatar</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-neutral-700">Full Name</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-neutral-700">Email</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-neutral-700">Phone</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-neutral-700">Location</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-neutral-700">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-neutral-200">
            @for (user of users(); track user.id) {
              <tr class="hover:bg-neutral-50 transition-colors cursor-pointer" (click)="userClicked()">
                <td class="px-6 py-4">
                  <img [src]="user.picture.thumbnail" [alt]="user.name.first + ' avatar'" class="w-10 h-10 rounded-full border-2 border-primary-200" />
                </td>
                <td class="px-6 py-4">
                  <div class="font-medium text-neutral-900">{{ user.name.title }} {{ user.name.first }} {{ user.name.last }}</div>
                </td>
                <td class="px-6 py-4">
                  <span class="text-neutral-600">{{ user.email }}</span>
                </td>
                <td class="px-6 py-4">
                  <span class="text-neutral-600">{{ user.phone }}</span>
                </td>
                <td class="px-6 py-4">
                  <span class="text-neutral-600">{{ user.location.city }}, {{ user.location.country }}</span>
                </td>
                <td class="px-6 py-4 flex gap-2">
                  <button pButton type="button" icon="pi pi-eye" class="p-button-rounded p-button-text p-button-info" aria-label="View"></button>
                  <button pButton type="button" icon="pi pi-pencil" class="p-button-rounded p-button-text p-button-warning" aria-label="Edit"></button>
                  <button pButton type="button" icon="pi pi-trash" class="p-button-rounded p-button-text p-button-danger" aria-label="Delete"></button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  } @else {
    <div class="flex items-center justify-center p-12">
      <div class="text-center">
        <i class="pi pi-spin pi-spinner text-4xl text-primary-500 mb-4"></i>
        <p class="text-neutral-600">Loading users...</p>
      </div>
    </div>
  }
</section>
